# 단위

### 1. 크기 단위

대부분의 브라우저의 폰트 사이즈 기본값은 `16px`, `1em`, `100%`이다.

#### 1-1. px

px은 픽셀(화소) 단위이며 절대값이다. 디지털 이미징에서 픽셀(화소)는 래스터 이미지에서 주소를 지정할 수 있는 가장 작은 요소이거나 도트 매트릭스 디스플레이 장치에서 주소를 지정할 수 있는 가장 작은 요소이다.

> 래스터 이미지란 정사각형 모양의 작은 색상 픽셀(화소)의 직사각형 그리드로 구성된 디지털 이미지이다. 래스터 이미지는 각 픽셀(화소)의 정확한 색상을 저장한다. 일반적인 화소 형식은 이진, 최색조, 팔레트 기반, RGB이다. 대부분의 색상 래스터 형식은 24비트이다.

우리가 `width: 100px;` 같은 CSS 코드를 쓸 때, 이 `1px`은 디스플레이어의 실제 물리적 1픽셀(화소)와 같지 않다. 픽셀은 디바이스 해상도에 따라 상대적인 크기를 갖는다. 우리가 CSS에서 쓰는 픽셀은 브라우저가 계산한 논리 단위이다. 그래서 화면 해상도나 물리 크기가 달라도 CSS 표현이 일관되게 보이도록 대부분의 브라우저는 `1px`을 `1/96`인치의 절대 단위로 인식한다.

만약, 이 기준이 없었다면 브라우저마다 `1px`의 기준이 달라 기기마다 크기, 비율이 다르게 보이는 혼란이 생길 것이다. 또한, `1px`을 절대 단위로 정의 했기에 다른 상대 단위들도 예측 가능한 기준위에서 계산이 된다.

#### 1-2. %

%는 백분률 단위의 상대 단위다. 항상 부모 요소의 특정 속성 값을 기준으로 계산되지만 모든 속성에서 같은 기준을 가지진 않는다.

| 구분                   | 기준 요소 | 기준 속성        |
| ---------------------- | --------- | ---------------- |
| `width`, `height`      | 부모 요소 | 해당 방향의 크기 |
| `margin`, `padding`    | 부모 요소 | 부모의 width     |
| `position` 좌표        | 부모 요소 | padding box      |
| `font-size`            | 부모 요소 | 부모의 font-size |
| `line-height`          | 자기 자신 | 자신의 font-size |
| `transform: translate` | 자기 자신 | 자신의 크기      |

#### 1-3. em과 rem

`em`은 배수 단위로 상대 단위다. 요소에 지정된 `font-size`를 기준으로 상대적인 사이즈를 설정한다. 만약 현재 요소에 폰트 크기가 지정되어 있지 않다면 부모 요소의 폰트 크기를 따른다. 즉, 상속된 `font-size`도 없고 현재 요소에도 `font-size`가 없다면 기준은 `html`의 기본 폰트 크기가 기준이 된다.

`em`은 `font-size` 값 설정에만 영향을 미치는 것은 아니고, `width`, `margin`, `padding` 등등 모두 `em`단위를 줄 경우에도 `font-size` 크기를 기준으로 계산이 된다.

```css
.box {
  font-size: 20px;
  width: 10em; /* 10em = 10 * 20px = 200px */
}
```

이와 같이 `em`이 `font-size`를 기준으로 계산하는 이유는 초기 CSS는 HTML과 같은 마크업 언어로 작성된 문서의 표현과 스타일을 지정하기 위한 언어이기 때문이다. 따라서 폰트 크기가 모든 상대 단위의 기본 척도로 쓰이는거며, 폰트 크기가 바뀌면 전체 레이아웃 비율도 자연스럽게 바뀌도록 설계한 것이다.

`em` 단위는 상속에 의해 의도치 않게 기준 값입 바뀔 수 있다. 그래서 이를 개선해서 나온게 `rem` 단위이다. `rem`은 최상위 요소(`html`)의 사이즈를 기준으로 삼는다.

#### 1-4. Viewport 단위 (vh, vw, vmin, vmax, ...등등)

화면 크기에 동적으로 대응하기 위해 `%`를 자주 사용하게 된다. 하지만 `%`는 상속에 의해 상대적 영향을 받는다. 그래서 생겨난게 뷰포트를 기준으로 계산하는 상대 길이 단위가 등장했다. 뷰포트 단위는 부모 요소 크기에 전혀 영향을 받지 않는다.

> Viewport(뷰포트)란 현재 브라우저에서 웹 문서가 랜더링되어 보여지는 영역을 의미

그러나, 브라우저 창이 리사이즈 되거나 스크롤바가 생기면 값이 변한다. 모바일에서는 주소창이 있을때 `100vh`가 달라질 수 있다. 이를 보완하기 위해 등장한게 `svh`, `lvh`, `dvh` 등의 단위가 생겨났다. [상세 스팩](https://www.w3.org/TR/css-values-4/#viewport-relative-lengths)

> vw, vh는 window.innterWidth, window.innerHeight를 기준으로 계산한다. (브라우저 창 틀을 빼고 스크롤을 포함한 크기)
