# 연산자

### 표현식과 연산자

표현식(expression)은 리터럴, 식별자, 연산자, 함수 호출 등의 조합을 의미한다. 표현식은 표현식을 실행하여 하나의 값을 만드는 과정을 거쳐 하나의 값을 만든다. 즉, 표현식은 하나의 값으로 평가될 수 있는 문(statement)이다.

표현식은 값처럼 사용할 수 있다. 이것은 값이 위치할 자리에 표현식도 위치할 수 있다는 의미이다.

```
const x = 10;

// 표현식
x + 30;
```

### 문과 표현식

자바스크립트의 모든 코드는 문(statement) 또는 표현식이다. 표현식은 평가되어 값을 만들지만 그 이상의 행위는 할 수 없다. 문은 `var`, `let`, `const`, `function`, class와 같은 선언 키워드를 사용하여 변수나 함수를 생성하기도 하고, `if` `for`, `while` 문과 같은 제어문을 생성하여 프로그램의 흐름을 제어한다.

즉. 표현식(expression)은 값을 평가하는 것. 문(statement)은 표현식으로 생성한 값을 사용해 행동을 지시하는 문장이다.

단, 문에는 표현식인 문과 아닌 문이 있는데, 선언문은 표현식이 아닌 문이고, 할당문은 그 자체가 표현식인 문이다.

```
let result = (let x = 10) // Error
```

위 예제와 같이 선언문은 값처럼 쓸 수 없다.

```
let result = (x = 5);
console.log(result) // 5
```

위 할당문 예제의 `x = 5`는 변수 `x`에 5를 저장하고 동시에 값 5를 반환해준다. 그래서 표현식이기도 한 문이 되는 것이다.

### 산술 연산자

산술 연산자는 이항, 단항으로 구분할 수 있다.

| 이항 산술 연산자 | 의미     |
| ---------------- | -------- |
| +                | 덧셈     |
| -                | 뺄셈     |
| \*               | 곱셈     |
| /                | 나눗셈   |
| %                | 나머지   |
| \*\*             | 거듭제곱 |

| 단항 산술 연산자 | 의미                     |
| ---------------- | ------------------------ |
| ++               | 증가                     |
| --               | 감소                     |
| +                | 어떠한 효과도 없음       |
| -                | 양수 → 음수, 음수 → 양수 |

```
let x = 5, result;

// 선대입 후증가
result = x++;
console.log(result, x); // 5, 6

// 선증가 후대입
result = ++x;
console.log(result, x); // 7, 7

// 선대입 후감소
result = x--;
console.log(result, x); // 7, 6

// 선감소 후대입
result = --x;
console.log(result, x) // 5, 5
```

증가/감소 연산자는 위치에 따라 의미가 다르다. 피연산자 앞에 위치하면 전위 증가/감소 연산자, 피연산자 뒤에 위치하면 후위 증가/감소 연산자가 된다.

`+`연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결, 그 외의 경우에는 덧셈 연산자로 동작한다.

```
1 + true        // 2 (true → 1)
1 + false       // 1 (false → 0)
true + false    // 1
1 + null        // 1 (null → 0)
1 + undefined   // NaN (undefined → NaN)
```

위 예제를 보면 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되기도 한다. 이를 암묵적 타입 변환 또는 타입 강제 변환이라고 한다.

### 할당 연산자

우항에 있는 피연산자의 평과 결과를 좌항에 있는 변수에 할당한다. 할당 연산은 하나의 값으로 평가되는 표현식이다.

| 할당 연산자 |
| ----------- |
| =           |
| +=          |
| -=          |
| \*=         |
| /=          |
| %=          |
| \|\|=       |
| &&=         |
| ??=         |

### 비교 연산자

| 동등 / 일치 비교 연산자 | 의미                          |
| ----------------------- | ----------------------------- |
| ==                      | 동등 비교. 값이 같음          |
| ===                     | 일치 비교. 값과 타입이 같음   |
| !=                      | 부등 비교. 값이 다름          |
| !==                     | 불일치 비교. 값과 타입이 다름 |

| 대소 관계 비교 연산자 |
| --------------------- |
| >                     |
| <                     |
| >=                    |
| <=                    |

```
NaN === NaN // false
0 === -0    // true
```

위 예제를 보면 NaN은 자신과 일치하지 않는 유일한 값이다. 따라서 숫자가 NaN인지 조사하려면 `isNaN` 함수를 사용한다.

숫자 0도 주의하자.

### 삼항 조건 연산자

조건식의 평가 결과에 따라 반환할 값을 결정한다.

```
조건식 ? 조건식이 true일때 반환할 값 : 조건식이 false일때 반환할 값
```

삼항 조건 연산자는 `if else`문으로 사용해도 동일처리가 된다. 하지만 i`f else`문은 값으로 평가될 수 없다. 하지만 삼항 조건 연산자는 표현식으로 값으로 평가되며, 다른 표현식의 일부가 될 수 있어 유용하다.

### 논리 연산자

| 논리 연산자 | 의미                                                                      |
| ----------- | ------------------------------------------------------------------------- |
| \|\|        | 논리합(OR)                                                                |
| &&          | 논리곱(AND)                                                               |
| ??          | 널 병합 연산자. 좌항 피연산자가 `null`가 `undefined`일때만 우항 값을 반환 |
| !           | 부정(NOT)                                                                 |

> 논리합 연산자와 논리곱 연산자의 연산 결과는 불리언 값이 아닐 수 있다.

### 쉼표 연산자

왼쪽 피연산자부터 차례대로 피연산자를 평가하고 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평과 결과를 반환한다.

```
let x = 0;
let y = (x++, x + 5);
console.log(y) // 6;
```

위 예제를 보면 `x++`가 먼저 실행되어 `x`는 1이 되고, `x+5`를 실행하여 최종 반환값이 6이 된다.

```
for (let i = 0, j = 10; i < j; i++, j--) {
    console.log(i, j);
}
```

for문 안에서 자주 사용된다.

### 그룹 연산자

그룹 `()`연산자는 그룹 내의 표현식을 최우선으로 평가한다. 그 외에 연산자 우선순위를 자세히 알고 싶다면 [우선순위 테이블](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_precedence#table) 링크에 자세히 나와있다.

### typeof 연산자

`typeof` 연산자는 자신의 뒤에 위치한 피연산자의 데이터 타입을 문자열로 반환환다. `null`을 반환하는 경우는 없으며 함수의 경우 `function`을 반환한다.

`null` 타입을 확인할 때는 typeof 연산자 말고 일치 연산자(===)를 사용한다.

선언하지 않은 식별자를 typeof 연산자로 연산하면 `ReferenceError` 에러가 아닌 `undefined`를 반환한다. 이건 자바스크립트의 특별한 규칙(안전 가드)로 인한 결과다
